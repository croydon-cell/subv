(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[872],{44358:function(e,s,t){Promise.resolve().then(t.bind(t,6851))},6851:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return A}});var l=t(57437),a=t(2265),r=t(94411),n=t(61264),c=t(10273),i=t(65236),d=t(79004),o=t(32816),x=t(25797),m=t(56360),h=t(66706),j=t(51077),u=t(21902),f=t(55430),b=t(53225),v=t(85016),p=t(35231),g=t(65483),N=t(54142),y=t(2842),w=t(9542),_=t(85475),C=t(20153),k=t(86991),R=t(45745),Z=t(16638),S=t(25974),O=t(27561);function A(){var e,s,t;let[A,K]=(0,a.useState)(null),[P,Y]=(0,a.useState)(null),[F,D]=(0,a.useState)([]),[E,I]=(0,a.useState)([]),[T,B]=(0,a.useState)(null),[M,U]=(0,a.useState)(null),[L,V]=(0,a.useState)(!0);(0,a.useEffect)(()=>{q()},[]);let q=async()=>{V(!0);try{let[e,s,t,l,a,r]=await Promise.all([fetch("/api/merchant-admin/collections"),fetch("/api/merchant-admin/retry-analytics"),fetch("/api/merchant-admin/churn-predictions"),fetch("/api/merchant-admin/lco-performance"),fetch("/api/merchant-admin/reminders"),fetch("/api/merchant-admin/revenue-forecast")]),[n,c,i,d,o,x]=await Promise.all([e.json(),s.json(),t.json(),l.json(),a.json(),r.json()]);K(n.data),Y(c.data),D(i.data),I(d.data),B(o.data),U(x.data)}catch(e){console.error("Error fetching dashboard data:",e)}finally{V(!1)}},z=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e),$=e=>new Intl.NumberFormat("en-IN").format(e);return L?(0,l.jsx)(r.c,{currentRole:"merchant_admin",children:(0,l.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)(h.Z,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,l.jsx)("p",{className:"text-slate-600",children:"Loading dashboard..."})]})})}):(0,l.jsx)(r.c,{currentRole:"merchant_admin",children:(0,l.jsxs)("div",{className:"p-8 space-y-8",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"Merchant Dashboard"}),(0,l.jsx)("p",{className:"text-slate-600 mt-2",children:"Collections, AI Insights & Performance Analytics"})]}),(0,l.jsxs)(m.z,{onClick:q,className:"bg-gradient-to-r from-blue-600 to-indigo-600",children:[(0,l.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,l.jsx)(n.A,{title:"Total Collected",value:z((null==A?void 0:A.total_collected)||0),icon:j.Z,trendValue:15.3,gradient:!0}),(0,l.jsx)(n.A,{title:"Collection Rate",value:"".concat((null==A?void 0:A.collection_rate)||0,"%"),icon:u.Z,subtitle:"".concat(z((null==A?void 0:A.total_due)||0)," due")}),(0,l.jsx)(n.A,{title:"Recovery Rate",value:"".concat((null==A?void 0:A.recovery_rate)||0,"%"),icon:f.Z,subtitle:"".concat(z((null==A?void 0:A.total_recovered)||0)," recovered")}),(0,l.jsx)(n.A,{title:"AI Retry Success",value:"".concat((null==P?void 0:P.success_rate)||0,"%"),icon:b.Z,subtitle:"".concat($((null==P?void 0:P.successful_retries)||0)," successful")})]}),(0,l.jsxs)(i.mQ,{defaultValue:"collections",className:"space-y-6",children:[(0,l.jsxs)(i.dr,{className:"bg-white border shadow-sm",children:[(0,l.jsx)(i.SP,{value:"collections",children:"Collections"}),(0,l.jsx)(i.SP,{value:"retry",children:"AI Retry Analytics"}),(0,l.jsx)(i.SP,{value:"churn",children:"Churn Predictions"}),(0,l.jsx)(i.SP,{value:"lco",children:"LCO Performance"}),(0,l.jsx)(i.SP,{value:"reminders",children:"Reminders"}),(0,l.jsx)(i.SP,{value:"forecast",children:"Revenue Forecast"})]}),(0,l.jsx)(i.nU,{value:"collections",className:"space-y-6",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)(c.Zb,{className:"border-0 shadow-lg",children:[(0,l.jsxs)(c.Ol,{children:[(0,l.jsx)(c.ll,{children:"Collections Trend"}),(0,l.jsx)(c.SZ,{children:"Monthly performance overview"})]}),(0,l.jsx)(c.aY,{children:(0,l.jsx)(p.h,{width:"100%",height:300,children:(0,l.jsxs)(g.c,{data:(null==A?void 0:A.monthly_trend)||[],children:[(0,l.jsx)(N.q,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,l.jsx)(y.K,{dataKey:"month"}),(0,l.jsx)(w.B,{}),(0,l.jsx)(_.u,{formatter:e=>z(e)}),(0,l.jsx)(C.D,{}),(0,l.jsx)(k.u,{type:"monotone",dataKey:"collected",fill:"url(#colorCollected)",stroke:"#3b82f6",name:"Collected"}),(0,l.jsx)(R.$,{dataKey:"failed",fill:"#ef4444",name:"Failed"}),(0,l.jsx)(Z.x,{type:"monotone",dataKey:"recovered",stroke:"#10b981",strokeWidth:3,name:"Recovered"}),(0,l.jsx)("defs",{children:(0,l.jsxs)("linearGradient",{id:"colorCollected",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,l.jsx)("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),(0,l.jsx)("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]})})]})})})]}),(0,l.jsxs)(c.Zb,{className:"border-0 shadow-lg",children:[(0,l.jsxs)(c.Ol,{children:[(0,l.jsx)(c.ll,{children:"Collection Breakdown"}),(0,l.jsx)(c.SZ,{children:"Current status distribution"})]}),(0,l.jsx)(c.aY,{children:(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("span",{className:"text-sm font-medium",children:"Collected"}),(0,l.jsx)("span",{className:"text-sm text-slate-600",children:z((null==A?void 0:A.total_collected)||0)})]}),(0,l.jsx)(o.E,{value:(null==A?void 0:A.collection_rate)||0,className:"h-3"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("span",{className:"text-sm font-medium",children:"Failed"}),(0,l.jsx)("span",{className:"text-sm text-slate-600",children:z((null==A?void 0:A.total_failed)||0)})]}),(0,l.jsx)(o.E,{value:15,className:"h-3 bg-red-100",indicatorClassName:"bg-red-500"})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("span",{className:"text-sm font-medium",children:"Recovered"}),(0,l.jsx)("span",{className:"text-sm text-slate-600",children:z((null==A?void 0:A.total_recovered)||0)})]}),(0,l.jsx)(o.E,{value:(null==A?void 0:A.recovery_rate)||0,className:"h-3 bg-green-100",indicatorClassName:"bg-green-500"})]}),(0,l.jsx)("div",{className:"pt-4 border-t",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"font-semibold",children:"Today's Collections"}),(0,l.jsx)("span",{className:"text-lg font-bold text-blue-600",children:z((null==A?void 0:A.today_collections)||0)})]})})]})})]})]})}),(0,l.jsxs)(i.nU,{value:"retry",className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)(c.Zb,{className:"border-0 shadow-lg",children:[(0,l.jsxs)(c.Ol,{children:[(0,l.jsx)(c.ll,{children:"Failure Reasons & Recovery"}),(0,l.jsx)(c.SZ,{children:"AI-powered failure analysis"})]}),(0,l.jsx)(c.aY,{children:(0,l.jsx)(x.x,{className:"h-[350px]",children:(0,l.jsx)("div",{className:"space-y-4",children:null==P?void 0:null===(e=P.failure_reasons)||void 0===e?void 0:e.map((e,s)=>(0,l.jsxs)("div",{className:"p-4 rounded-lg bg-slate-50 border border-slate-200",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("span",{className:"font-medium text-sm",children:e.reason}),(0,l.jsxs)(d.C,{variant:e.recovery_rate>50?"success":"destructive",children:[e.recovery_rate,"% recovery"]})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-xs text-slate-600 mb-2",children:[(0,l.jsxs)("span",{children:[$(e.count)," failures"]}),(0,l.jsxs)("span",{children:[e.percentage,"% of total"]})]}),(0,l.jsx)(o.E,{value:e.recovery_rate,className:"h-2"})]},s))})})})]}),(0,l.jsxs)(c.Zb,{className:"border-0 shadow-lg",children:[(0,l.jsxs)(c.Ol,{children:[(0,l.jsx)(c.ll,{children:"Best Retry Timing"}),(0,l.jsx)(c.SZ,{children:"Success rate by time of day"})]}),(0,l.jsx)(c.aY,{children:(0,l.jsx)(p.h,{width:"100%",height:350,children:(0,l.jsxs)(S.v,{data:(null==P?void 0:P.retry_timing)||[],children:[(0,l.jsx)(N.q,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,l.jsx)(y.K,{dataKey:"hour"}),(0,l.jsx)(w.B,{}),(0,l.jsx)(_.u,{}),(0,l.jsx)(R.$,{dataKey:"success_rate",fill:"#3b82f6",radius:[8,8,0,0],name:"Success Rate %"})]})})})]})]}),(0,l.jsxs)(c.Zb,{className:"border-0 shadow-lg",children:[(0,l.jsx)(c.Ol,{children:(0,l.jsx)(c.ll,{children:"Retry Performance Metrics"})}),(0,l.jsx)(c.aY,{children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,l.jsxs)("div",{className:"text-center p-6 rounded-lg bg-gradient-to-br from-blue-50 to-indigo-50",children:[(0,l.jsx)("p",{className:"text-sm text-slate-600 mb-2",children:"Total Retries"}),(0,l.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:$((null==P?void 0:P.total_retries)||0)})]}),(0,l.jsxs)("div",{className:"text-center p-6 rounded-lg bg-gradient-to-br from-green-50 to-emerald-50",children:[(0,l.jsx)("p",{className:"text-sm text-slate-600 mb-2",children:"Successful"}),(0,l.jsx)("p",{className:"text-3xl font-bold text-green-600",children:$((null==P?void 0:P.successful_retries)||0)})]}),(0,l.jsxs)("div",{className:"text-center p-6 rounded-lg bg-gradient-to-br from-purple-50 to-pink-50",children:[(0,l.jsx)("p",{className:"text-sm text-slate-600 mb-2",children:"Success Rate"}),(0,l.jsxs)("p",{className:"text-3xl font-bold text-purple-600",children:[(null==P?void 0:P.success_rate)||0,"%"]})]}),(0,l.jsxs)("div",{className:"text-center p-6 rounded-lg bg-gradient-to-br from-orange-50 to-amber-50",children:[(0,l.jsx)("p",{className:"text-sm text-slate-600 mb-2",children:"Avg Retry Time"}),(0,l.jsxs)("p",{className:"text-3xl font-bold text-orange-600",children:[(null==P?void 0:P.avg_retry_time)||0,"h"]})]})]})})]})]}),(0,l.jsx)(i.nU,{value:"churn",className:"space-y-6",children:(0,l.jsxs)(c.Zb,{className:"border-0 shadow-lg",children:[(0,l.jsxs)(c.Ol,{children:[(0,l.jsx)(c.ll,{children:"AI Churn Predictions"}),(0,l.jsx)(c.SZ,{children:"Subscribers at risk of churning"})]}),(0,l.jsx)(c.aY,{children:(0,l.jsx)(x.x,{className:"h-[600px]",children:(0,l.jsx)("div",{className:"space-y-4",children:F.map(e=>(0,l.jsx)(c.Zb,{className:"border-l-4",style:{borderLeftColor:"high"===e.risk_level?"#ef4444":"medium"===e.risk_level?"#f59e0b":"#10b981"},children:(0,l.jsxs)(c.aY,{className:"pt-6",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold text-lg",children:e.subscriber_name}),(0,l.jsxs)("p",{className:"text-sm text-slate-600",children:[e.subscriber_id," • ",z(e.plan_amount),"/month"]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)(d.C,{variant:"high"===e.risk_level?"destructive":"medium"===e.risk_level?"warning":"success",children:[e.risk_score," Risk Score"]}),e.predicted_churn_date&&(0,l.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:["Predicted: ",new Date(e.predicted_churn_date).toLocaleDateString()]})]})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("p",{className:"text-xs font-medium text-slate-600 mb-2",children:"Risk Factors:"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:e.factors.map((e,s)=>(0,l.jsx)(d.C,{variant:"outline",className:"text-xs",children:e},s))})]}),(0,l.jsxs)("div",{className:"p-3 rounded-lg bg-blue-50 border border-blue-200",children:[(0,l.jsx)("p",{className:"text-xs font-medium text-blue-900 mb-1",children:"Recommended Action:"}),(0,l.jsx)("p",{className:"text-sm text-blue-700",children:e.recommended_action})]})]})},e.id))})})})]})}),(0,l.jsx)(i.nU,{value:"lco",className:"space-y-6",children:(0,l.jsxs)(c.Zb,{className:"border-0 shadow-lg",children:[(0,l.jsxs)(c.Ol,{children:[(0,l.jsxs)(c.ll,{className:"flex items-center",children:[(0,l.jsx)(v.Z,{className:"h-5 w-5 mr-2 text-yellow-500"}),"LCO Performance Leaderboard"]}),(0,l.jsx)(c.SZ,{children:"Ranked by collection rate and revenue"})]}),(0,l.jsx)(c.aY,{children:(0,l.jsx)("div",{className:"space-y-4",children:E.map(e=>(0,l.jsx)(c.Zb,{className:"transition-all duration-300 hover:shadow-xl ".concat(1===e.rank?"border-2 border-yellow-400 bg-gradient-to-r from-yellow-50 to-amber-50":""),children:(0,l.jsxs)(c.aY,{className:"pt-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)("div",{className:"h-12 w-12 rounded-full flex items-center justify-center font-bold text-lg ".concat(1===e.rank?"bg-yellow-400 text-white":2===e.rank?"bg-slate-300 text-white":3===e.rank?"bg-amber-600 text-white":"bg-slate-200 text-slate-600"),children:["#",e.rank]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold text-lg",children:e.name}),(0,l.jsx)("p",{className:"text-sm text-slate-600",children:e.area})]})]}),1===e.rank&&(0,l.jsx)(v.Z,{className:"h-8 w-8 text-yellow-500"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-xs text-slate-600",children:"Subscribers"}),(0,l.jsx)("p",{className:"text-lg font-semibold",children:$(e.total_subscribers)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-xs text-slate-600",children:"Collection Rate"}),(0,l.jsxs)("p",{className:"text-lg font-semibold text-green-600",children:[e.collection_rate,"%"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-xs text-slate-600",children:"Avg Time"}),(0,l.jsxs)("p",{className:"text-lg font-semibold",children:[e.avg_collection_time," days"]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-xs text-slate-600",children:"Revenue"}),(0,l.jsx)("p",{className:"text-lg font-semibold",children:z(e.monthly_revenue)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-xs text-slate-600",children:"Churn Rate"}),(0,l.jsxs)("p",{className:"text-lg font-semibold ".concat(e.churn_rate>10?"text-red-600":"text-green-600"),children:[e.churn_rate,"%"]})]})]})]})},e.id))})})]})}),(0,l.jsxs)(i.nU,{value:"reminders",className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)(c.Zb,{className:"border-0 shadow-lg",children:[(0,l.jsxs)(c.Ol,{children:[(0,l.jsx)(c.ll,{children:"Reminder Effectiveness by Channel"}),(0,l.jsx)(c.SZ,{children:"Conversion rates across channels"})]}),(0,l.jsx)(c.aY,{children:(0,l.jsx)(p.h,{width:"100%",height:350,children:(0,l.jsxs)(S.v,{data:(null==T?void 0:T.by_channel)||[],children:[(0,l.jsx)(N.q,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,l.jsx)(y.K,{dataKey:"channel"}),(0,l.jsx)(w.B,{}),(0,l.jsx)(_.u,{}),(0,l.jsx)(R.$,{dataKey:"rate",fill:"#8b5cf6",radius:[8,8,0,0],name:"Conversion Rate %"})]})})})]}),(0,l.jsxs)(c.Zb,{className:"border-0 shadow-lg",children:[(0,l.jsxs)(c.Ol,{children:[(0,l.jsx)(c.ll,{children:"Best Reminder Timing"}),(0,l.jsx)(c.SZ,{children:"Success rate by time of day"})]}),(0,l.jsx)(c.aY,{children:(0,l.jsx)(p.h,{width:"100%",height:350,children:(0,l.jsxs)(O.T,{data:(null==T?void 0:T.by_timing)||[],children:[(0,l.jsx)(N.q,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,l.jsx)(y.K,{dataKey:"time"}),(0,l.jsx)(w.B,{}),(0,l.jsx)(_.u,{}),(0,l.jsx)(k.u,{type:"monotone",dataKey:"rate",fill:"url(#colorRate)",stroke:"#3b82f6",name:"Success Rate %"}),(0,l.jsx)("defs",{children:(0,l.jsxs)("linearGradient",{id:"colorRate",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,l.jsx)("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),(0,l.jsx)("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]})})]})})})]})]}),(0,l.jsxs)(c.Zb,{className:"border-0 shadow-lg",children:[(0,l.jsx)(c.Ol,{children:(0,l.jsx)(c.ll,{children:"Channel Performance Details"})}),(0,l.jsx)(c.aY,{children:(0,l.jsx)("div",{className:"space-y-4",children:null==T?void 0:null===(s=T.by_channel)||void 0===s?void 0:s.map((e,s)=>(0,l.jsxs)("div",{className:"p-4 rounded-lg bg-slate-50 border border-slate-200",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold",children:e.channel}),(0,l.jsxs)("p",{className:"text-sm text-slate-600",children:[$(e.sent)," sent • ",$(e.conversions)," conversions"]})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:[e.rate,"%"]}),(0,l.jsxs)("p",{className:"text-xs text-slate-600",children:["\\u20b9",e.cost_per_conversion,"/conversion"]})]})]}),(0,l.jsx)(o.E,{value:e.rate,className:"h-2"})]},s))})})]})]}),(0,l.jsxs)(i.nU,{value:"forecast",className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,l.jsx)(n.A,{title:"Current Month (Actual)",value:z((null==M?void 0:M.current_month_actual)||0),icon:j.Z}),(0,l.jsx)(n.A,{title:"Current Month (Forecast)",value:z((null==M?void 0:M.current_month_forecast)||0),icon:u.Z}),(0,l.jsx)(n.A,{title:"Next Month Forecast",value:z((null==M?void 0:M.next_month_forecast)||0),icon:b.Z,subtitle:"".concat((null==M?void 0:M.forecast_confidence)||0,"% confidence")})]}),(0,l.jsxs)(c.Zb,{className:"border-0 shadow-lg",children:[(0,l.jsxs)(c.Ol,{children:[(0,l.jsx)(c.ll,{children:"Revenue Forecast Trend"}),(0,l.jsx)(c.SZ,{children:"Historical vs Predicted"})]}),(0,l.jsx)(c.aY,{children:(0,l.jsx)(p.h,{width:"100%",height:400,children:(0,l.jsxs)(g.c,{data:(null==M?void 0:M.monthly_forecast)||[],children:[(0,l.jsx)(N.q,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,l.jsx)(y.K,{dataKey:"month"}),(0,l.jsx)(w.B,{}),(0,l.jsx)(_.u,{formatter:e=>z(e)}),(0,l.jsx)(C.D,{}),(0,l.jsx)(k.u,{type:"monotone",dataKey:"actual",fill:"url(#colorActual)",stroke:"#3b82f6",name:"Actual Revenue"}),(0,l.jsx)(Z.x,{type:"monotone",dataKey:"forecast",stroke:"#8b5cf6",strokeWidth:3,strokeDasharray:"5 5",name:"Forecasted Revenue"}),(0,l.jsx)("defs",{children:(0,l.jsxs)("linearGradient",{id:"colorActual",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,l.jsx)("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),(0,l.jsx)("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]})})]})})})]}),(0,l.jsxs)(c.Zb,{className:"border-0 shadow-lg",children:[(0,l.jsxs)(c.Ol,{children:[(0,l.jsx)(c.ll,{children:"Forecast Factors"}),(0,l.jsx)(c.SZ,{children:"Key drivers affecting revenue prediction"})]}),(0,l.jsx)(c.aY,{children:(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:null==M?void 0:null===(t=M.factors)||void 0===t?void 0:t.map((e,s)=>(0,l.jsxs)("div",{className:"p-4 rounded-lg bg-gradient-to-br from-slate-50 to-blue-50 border border-slate-200",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,l.jsx)("span",{className:"font-semibold",children:e.factor}),(0,l.jsx)(d.C,{variant:e.impact.startsWith("+")?"success":"destructive",children:e.impact})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"text-sm text-slate-600",children:"Confidence"}),(0,l.jsxs)("span",{className:"text-sm font-medium",children:[e.confidence,"%"]})]}),(0,l.jsx)(o.E,{value:e.confidence,className:"h-2 mt-2"})]},s))})})]})]})]})]})})}},61264:function(e,s,t){"use strict";t.d(s,{A:function(){return n}});var l=t(57437),a=t(10273),r=t(77700);function n(e){let{title:s,value:t,icon:n,trend:c,trendValue:i,subtitle:d,className:o,gradient:x=!1}=e,m=i>0;return(0,l.jsxs)(a.Zb,{className:(0,r.cn)("transition-all duration-300 hover:shadow-xl border-0",x&&"bg-gradient-to-br from-blue-500 via-indigo-500 to-purple-600 text-white",!x&&"bg-white",o),children:[(0,l.jsxs)(a.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsx)(a.ll,{className:(0,r.cn)("text-sm font-medium",x?"text-white/90":"text-slate-600"),children:s}),n&&(0,l.jsx)("div",{className:(0,r.cn)("p-2 rounded-lg",x?"bg-white/20":"bg-blue-50"),children:(0,l.jsx)(n,{className:(0,r.cn)("h-4 w-4",x?"text-white":"text-blue-600")})})]}),(0,l.jsxs)(a.aY,{children:[(0,l.jsx)("div",{className:(0,r.cn)("text-2xl font-bold",x?"text-white":"text-slate-900"),children:t}),(d||void 0!==i)&&(0,l.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[void 0!==i&&(0,l.jsxs)("span",{className:(0,r.cn)("text-xs font-medium flex items-center",x?"text-white/80":m?"text-green-600":"text-red-600"),children:[m?"↑":"↓"," ",Math.abs(i),"%"]}),d&&(0,l.jsx)("p",{className:(0,r.cn)("text-xs",x?"text-white/70":"text-slate-500"),children:d})]})]})]})}},32816:function(e,s,t){"use strict";t.d(s,{E:function(){return c}});var l=t(57437),a=t(2265),r=t(52431),n=t(77700);let c=a.forwardRef((e,s)=>{let{className:t,value:a,...c}=e;return(0,l.jsx)(r.fC,{ref:s,className:(0,n.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...c,children:(0,l.jsx)(r.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});c.displayName=r.fC.displayName},65236:function(e,s,t){"use strict";t.d(s,{SP:function(){return d},dr:function(){return i},mQ:function(){return c},nU:function(){return o}});var l=t(57437),a=t(2265),r=t(94968),n=t(77700);let c=r.fC,i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)(r.aV,{ref:s,className:(0,n.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...a})});i.displayName=r.aV.displayName;let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)(r.xz,{ref:s,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...a})});d.displayName=r.xz.displayName;let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)(r.VY,{ref:s,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...a})});o.displayName=r.VY.displayName}},function(e){e.O(0,[419,77,213,4,600,821,971,23,744],function(){return e(e.s=44358)}),_N_E=e.O()}]);